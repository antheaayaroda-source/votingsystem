<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Voting System{% endblock %}</title>
    <style>
        :root{
            --green: #4a9d5e;         /* Rules primary green */
            --green-dark: #1a4d2e;    /* Rules dark green */
            --green-soft: rgba(74,157,94,0.10);
            --accent: #ff8c00;        /* Rules orange accent */
            --panel-bg: rgba(255,255,255,0.95);
            --panel-text: #0b2d1a;
            --text-on-green: #ffffff;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(180deg, var(--green-soft), rgba(0,0,0,0));
            color: var(--panel-text);
        }
        header {
            background: linear-gradient(135deg, var(--green), var(--green-dark));
            padding: 12px 16px;
            color: var(--text-on-green);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }
        main {
            padding: 20px;
            min-height: 80vh;
        }
        footer {
            background: #0096c7;
            color: white;
            text-align: center;
            padding: 10px;
        }
        .brand-title { margin: 0; font-size: 18px; }
        .user-box { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; border: 2px solid rgba(255,255,255,0.6); background: rgba(255,255,255,0.2); display: inline-block; }
        .user-name { font-weight: 600; font-size: 14px; }
        .welcome-panel { position: fixed; right: 16px; top: 20%; background: var(--panel-bg); color: var(--panel-text); padding: 14px 16px; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 10px; min-width: 220px; z-index: 50; }
        .welcome-avatar { width: 44px; height: 44px; border-radius: 50%; object-fit: cover; border: 2px solid var(--green-dark); background: rgba(74,157,94,0.15); }
        .welcome-text { font-weight: 700; }
    </style>
</head>
<body>
    <header>
        <h2 class="brand-title">School Election Voting</h2>
        {% if user.is_authenticated %}
        <div class="user-box">
            {% if user.voter.profile_image %}
                <img class="avatar" src="{{ user.voter.profile_image.url }}" alt="Profile">
            {% else %}
                <span class="avatar" aria-hidden="true"></span>
            {% endif %}
            <span class="user-name">{{ user.get_full_name|default:user.username }}</span>
        </div>
        {% endif %}
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>&copy; 2025 School Election System</p>
    </footer>
</body>
</html>